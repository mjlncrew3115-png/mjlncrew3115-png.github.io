<!doctype html>
<html>
<head>
  <title>Marissa Lucke</title>
  <!-- Load Leaflet CSS & JS first -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.1/dist/leaflet.css"
    integrity="sha256-sA+zWATbFveLLNqWO2gtiw3HL/lh1giY/Inf1BJ0z14=" crossorigin="">

<link rel="stylesheet" type="text/css" href="css/map_style.css">

  <script src="https://unpkg.com/leaflet@1.9.1/dist/leaflet.js"
    integrity="sha256-NDI0K41gVbWqfkkaHj15IzU7PtMoelkzyKp8TOaFQ3s="
    crossorigin="" ></script>
  <!-- Existing stylesheet -->
  <link rel="stylesheet" type="text/css" href="css/main_style.css">

  <link rel="stylesheet" href="https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.css">
  <script src="https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.js"></script>

<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />

  <!-- Link Mapbox Access Token -->
  <script src="javascript/secret_keys.js"></script>
</head>

<body>
  <div id="body-container">

    <div id="header">
      <!-- <h1>Hello, my name is Marissa Lucke</h1> -->
      <script src="javascript/external.js"></script>
    </div>

    <div id="profile-picture">
      <img src="images/cute_dogs.jpg" width="300" height="210" />
    </div>

    <div id="welcome-text">
      <p>
        My name is Marissa<br>
        I am a student in the
        <a href="https://www.geo.txst.edu/" target="_blank">Geography Department</a>
        at
        <a href="https://www.txst.edu/" target="_blank">Texas State University</a>.
      </p>
    </div>

    <div id="research-interests">
      <h3>Research Interests:</h3>
      <ol>
        <li>Geospatial Information Systems</li>
        <li>Machine Learning</li>
        <li>Quantum Physics</li>
        <li>Microbiology</li>
      </ol>
    </div>

    <!-- Webmap Reviews Section -->
    <div id="webmap-reviews">
      <h3>Webmap Reviews</h3>
      <script>
        document.write(webmap_table());
      </script>
    <h3>Geocoding Map</h3>
    <br>
  <div id="mapid" style="width:600px; height:400px; margin:auto; bottom:30px;">
    <script>
      var mymap = L.map('mapid');
      // L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
      // maxZoom: 18, id: 'mapbox/dark-v10',
      // accessToken: mapbox_access_token}).addTo(mymap);
      // L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {}).addTo(mymap);
      L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png',
       {}).addTo(mymap);

    //   var marker = L.marker([51.5, -0.09]).addTo(mymap);
    //
    //   var circle = L.circle([51.508, -0.11], {
    //     color: 'red',
    //     fillColor: '#f03',
    //     fillOpacity: 0.5,
    //     radius: 500
    //   }).addTo(mymap);
    //
    //   var polygon = L.polygon([
    //     [51.509, -0.08],
    //     [51.503, -0.06],
    //     [51.51, -0.047]
    //   ]).addTo(mymap);
    //
    //   marker.bindPopup("<b>Hello world!</b><br>I am a popup.").openPopup();
    //   circle.bindPopup("I am a circle.");
    //   polygon.bindPopup("I am a polygon.");
    //
    //   marker.on('click', e => mymap.setView(e.latlng, 14));
    //   circle.on('click', e => mymap.setView(e.latlng, 13));
    //   polygon.on('click', e => mymap.setView(e.latlng, 13));
    //
    // var polyline = L.polyline([[51.506, -0.08], [51.502, -0.06], [51.507, -0.047]]).addTo(mymap);
    //
    //   var ZoomViewer = L.Control.extend({onAdd: function (){
    //       var gauge = L.DomUtil.create('div');
    //       gauge.style.width = '200px';
    //       gauge.style.background = 'rgba(255,255,255,0.5)';
    //       gauge.style.textAlign = 'left';
    //       mymap.on('zoomstart zoom zoomend', function (ev) {
    //       gauge.innerHTML = 'Zoom level: ' + mymap.getZoom();
    //       });
    //       return gauge;
    //     }
    // });
    // (new ZoomViewer).addTo(mymap);
    // ✅ ADD: Seven Wonders (unique colored circle markers + popups)
      const wonders = [
        { name: "Taj Mahal (India)",        lat: 27.174961,  lon: 78.042385,   color: "#e41a1c",
          img: "https://upload.wikimedia.org/wikipedia/commons/d/da/Taj-Mahal.jpg",
          blurb: "17th-century marble mausoleum in Agra; UNESCO site and icon of Mughal architecture." },

        { name: "Great Wall of China",      lat: 40.334245,  lon: 116.477652,  color: "#377eb8",
          img: "https://commons.wikimedia.org/wiki/Special:FilePath/Great_Wall_of_China_July_2006.JPG?width=300",
          blurb: "Fortifications rebuilt over centuries across northern China, stretching thousands of kilometers." },

        { name: "Petra (Jordan)",           lat: 30.328611,  lon: 35.441944,   color: "#4daf4a",
          img: "https://upload.wikimedia.org/wikipedia/commons/9/94/Al_Khazneh.jpg",
          blurb: "Ancient Nabataean city famed for rock-cut façades and water engineering." },

        { name: "Christ the Redeemer (Brazil)", lat: -22.951389, lon: -43.2108334, color: "#984ea3",
          img: "https://commons.wikimedia.org/wiki/Special:FilePath/Cristo_Redentor_-_Rio_de_Janeiro%2C_Brasil.jpg?width=300",
          blurb: "Art Deco statue on Mount Corcovado overlooking Rio de Janeiro." },

        { name: "Machu Picchu (Peru)",      lat: -13.163056, lon: -72.545556,  color: "#ff7f00",
          img: "https://upload.wikimedia.org/wikipedia/commons/e/eb/Machu_Picchu%2C_Peru.jpg",
          blurb: "15th-century Inca citadel in the Andes with terraces and dry-stone walls." },

        { name: "Chichén Itzá (Mexico)",    lat: 20.682778,  lon: -88.569167,  color: "#a65628",
          img: "https://commons.wikimedia.org/wiki/Special:FilePath/Chichen_Itza_3.jpg?width=300",
          blurb: "Major Maya city; El Castillo (Kukulcán) shows astronomical alignments." },

        { name: "Colosseum (Rome)",         lat: 41.890169,  lon: 12.492269,   color: "#f781bf",
          img: "https://commons.wikimedia.org/wiki/Special:FilePath/Colosseo_2020.jpg?width=300",
          blurb: "Flavian amphitheatre used for spectacles; masterpiece of Roman engineering." }
      ];

      // Build all popups + markers and collect coords to zoom later
      var pts = [];

      wonders.forEach(function (w) {
        // create the marker and keep a handle to it
        var marker = L.circleMarker([w.lat, w.lon], {
          radius: 9,
          color: w.color,
          fillColor: w.color,
          fillOpacity: 0.85,
          weight: 2
        }).addTo(mymap);

        // plain string concatenation (no backticks, no smart quotes)
        var html =
          '<div class="popup-wrap">' +
            '<b>' + w.name + '</b><br>' +
            '<img class="popup-img" src="' + w.img + '" alt="' + w.name + '">' +
            '<div>' + w.blurb + '</div>' +
          '</div>';

        marker.bindPopup(html);

        // save coords for fitBounds
        pts.push([w.lat, w.lon]);
      });

      // Zoom to all points (replaces any setView)
      mymap.fitBounds(pts, { padding: [20, 20] });


    var geocoder = L.Control.geocoder({
      defaultMarkGeocode: false,
      geocoder: new L.Control.Geocoder.Nominatim()
    }).on('markgeocode', function (e) {
      var bbox = e.geocode.bbox;
      var poly = L.polygon([
        bbox.getSouthEast(),
        bbox.getNorthEast(),
        bbox.getNorthWest(),
        bbox.getSouthWest()
      ]);
      mymap.fitBounds(poly.getBounds());
    }).addTo(mymap);
      mymap.setView([0, 0], 1);
      </script>
    </div>
  </div>

</body>
    <!-- Copyright Section -->
    <div id="copyright">
      <script>
        // Create a Date variable for today
        var today = new Date();
        // Get the current year
        var year = today.getFullYear();
        // Write copyright statement with the current year
        document.writeln("Copyright &copy; " + year);
      </script>
    </div>

    </html>
